<div class="min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-br from-indigo-900 via-purple-900 to-slate-900">
  <div class="w-full max-w-md">
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-white tracking-tight drop-shadow-sm">Set new password</h1>
      <p class="mt-2 text-white/70">You signed in with a temporary password. Please choose a new password.</p>
    </div>

    <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl p-8">
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-6" aria-label="Change password form">
        <div>
          <label for="currentPassword" class="block text-sm font-medium text-white/90 mb-2">Current (temporary) password</label>
          <input
            id="currentPassword"
            type="password"
            formControlName="currentPassword"
            autocomplete="current-password"
            class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:ring-2 focus:ring-indigo-400"
            placeholder="••••••••"
          />
          @if (form.get('currentPassword')?.invalid && form.get('currentPassword')?.touched) {
            <p class="mt-1.5 text-sm text-rose-300">Enter your current password.</p>
          }
        </div>
        <div>
          <label for="newPassword" class="block text-sm font-medium text-white/90 mb-2">New password</label>
          <input
            id="newPassword"
            type="password"
            formControlName="newPassword"
            autocomplete="new-password"
            class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:ring-2 focus:ring-indigo-400"
            placeholder="••••••••"
          />
          @if (form.get('newPassword')?.invalid && form.get('newPassword')?.touched) {
            <p class="mt-1.5 text-sm text-rose-300">At least 8 characters.</p>
          }
        </div>
        <div>
          <label for="confirmPassword" class="block text-sm font-medium text-white/90 mb-2">Confirm new password</label>
          <input
            id="confirmPassword"
            type="password"
            formControlName="confirmPassword"
            autocomplete="new-password"
            class="w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/40 focus:ring-2 focus:ring-indigo-400"
            placeholder="••••••••"
          />
          @if (form.hasError('mismatch') && form.get('confirmPassword')?.touched) {
            <p class="mt-1.5 text-sm text-rose-300">Passwords do not match.</p>
          }
        </div>
        <button
          type="submit"
          [disabled]="form.invalid || loading"
          class="w-full py-3 rounded-xl bg-indigo-500 hover:bg-indigo-400 disabled:opacity-50 text-white font-medium focus:ring-2 focus:ring-indigo-400 flex items-center justify-center gap-2"
        >
          @if (loading) {
            <span class="inline-block w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></span>
            Updating...
          } @else {
            Update password
          }
        </button>
      </form>
    </div>
  </div>
</div>
